{% extends 'layouts/base.html' %}

{% block title %} Add Defaut Invisible {% endblock title %}

{% block stylesheets %}
    <!-- Utilisation de Bootstrap pour la mise en forme -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- SweetAlert CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
{% endblock stylesheets %}

{% block content %}
    <div class="container mt-4">
        <h1 class="text-center">Ajouter un Défaut Invisible</h1>
        <form method="POST">
            <div class="mb-3">
                <label for="nom" class="form-label">Nom:</label>
                <input type="text" class="form-control" id="nom" name="nom" required>
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Description:</label>
                <textarea class="form-control" id="description" name="description" rows="4" required></textarea>
            </div>

            <button type="submit" class="btn btn-success">Ajouter le Défaut</button>
        </form>
    </div>

    <!-- SweetAlert JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        window.onload = function() {
            const noms_defauts_invisibles = `{{ noms_defauts_invisibles|join(', ')|safe }}`;
            Swal.fire({
                title: 'Attention!',
                text: 'Merci de respecter le format nom des défauts ci-dessous, car l\'IA a été entrainée avec ces noms: ' + noms_defauts_invisibles,
                icon: 'info',
                confirmButtonText: 'Ok'
            });
        };
    </script>
{% endblock content %}
